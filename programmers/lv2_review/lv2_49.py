# 후보키


def solution(relation):
    ans = 0
    has = set()
    dic = {}
    size = len(relation[0])
    dfs("", 0, size, dic)
    for i in range(len(relation)):
        for key in dic.keys():
            temp = []
            for c in key:
                idx = int(c)
                temp.append(relation[i][idx])
            dic[key].append(temp)

    for key in dic.keys():
        dic[key].sort()
    key_list = sorted(list(dic.keys()), key=lambda x: len(x))
    print(dic)

    for key in key_list:
        flag = True
        for i in range(len(dic[key]) - 1):
            if dic[key][i] == dic[key][i + 1]:
                flag = False
                break
        if flag:
            for k in has:
                if key.find(k) > -1:
                    flag = False
                    break
        if flag:
            has.add(key)
            ans += 1
    print(has)

    return ans


def dfs(s, idx, size, dic):
    if idx == size:
        if s:
            dic[s] = []
        return
    dfs(s + str(idx), idx + 1, size, dic)
    dfs(s, idx + 1, size, dic)


relation = [
    ["b", "2", "a", "a", "b"],
    ["b", "2", "7", "1", "b"],
    ["1", "0", "a", "a", "8"],
    ["7", "5", "a", "a", "9"],
    ["3", "0", "a", "f", "9"],
]

temp = {
    "01234": [
        ["1", "0", "a", "a", "8"],
        ["3", "0", "a", "f", "9"],
        ["7", "5", "a", "a", "9"],
        ["b", "2", "7", "1", "b"],
        ["b", "2", "a", "a", "b"],
    ],
    "0123": [
        ["1", "0", "a", "a"],
        ["3", "0", "a", "f"],
        ["7", "5", "a", "a"],
        ["b", "2", "7", "1"],
        ["b", "2", "a", "a"],
    ],
    "0124": [
        ["1", "0", "a", "8"],
        ["3", "0", "a", "9"],
        ["7", "5", "a", "9"],
        ["b", "2", "7", "b"],
        ["b", "2", "a", "b"],
    ],
    "012": [
        ["1", "0", "a"],
        ["3", "0", "a"],
        ["7", "5", "a"],
        ["b", "2", "7"],
        ["b", "2", "a"],
    ],
    "0134": [
        ["1", "0", "a", "8"],
        ["3", "0", "f", "9"],
        ["7", "5", "a", "9"],
        ["b", "2", "1", "b"],
        ["b", "2", "a", "b"],
    ],
    "013": [
        ["1", "0", "a"],
        ["3", "0", "f"],
        ["7", "5", "a"],
        ["b", "2", "1"],
        ["b", "2", "a"],
    ],
    "014": [
        ["1", "0", "8"],
        ["3", "0", "9"],
        ["7", "5", "9"],
        ["b", "2", "b"],
        ["b", "2", "b"],
    ],
    "01": [["1", "0"], ["3", "0"], ["7", "5"], ["b", "2"], ["b", "2"]],
    "0234": [
        ["1", "a", "a", "8"],
        ["3", "a", "f", "9"],
        ["7", "a", "a", "9"],
        ["b", "7", "1", "b"],
        ["b", "a", "a", "b"],
    ],
    "023": [
        ["1", "a", "a"],
        ["3", "a", "f"],
        ["7", "a", "a"],
        ["b", "7", "1"],
        ["b", "a", "a"],
    ],
    "024": [
        ["1", "a", "8"],
        ["3", "a", "9"],
        ["7", "a", "9"],
        ["b", "7", "b"],
        ["b", "a", "b"],
    ],
    "02": [["1", "a"], ["3", "a"], ["7", "a"], ["b", "7"], ["b", "a"]],
    "034": [
        ["1", "a", "8"],
        ["3", "f", "9"],
        ["7", "a", "9"],
        ["b", "1", "b"],
        ["b", "a", "b"],
    ],
    "03": [["1", "a"], ["3", "f"], ["7", "a"], ["b", "1"], ["b", "a"]],
    "04": [["1", "8"], ["3", "9"], ["7", "9"], ["b", "b"], ["b", "b"]],
    "0": [["1"], ["3"], ["7"], ["b"], ["b"]],
    "1234": [
        ["0", "a", "a", "8"],
        ["0", "a", "f", "9"],
        ["2", "7", "1", "b"],
        ["2", "a", "a", "b"],
        ["5", "a", "a", "9"],
    ],
    "123": [
        ["0", "a", "a"],
        ["0", "a", "f"],
        ["2", "7", "1"],
        ["2", "a", "a"],
        ["5", "a", "a"],
    ],
    "124": [
        ["0", "a", "8"],
        ["0", "a", "9"],
        ["2", "7", "b"],
        ["2", "a", "b"],
        ["5", "a", "9"],
    ],
    "12": [["0", "a"], ["0", "a"], ["2", "7"], ["2", "a"], ["5", "a"]],
    "134": [
        ["0", "a", "8"],
        ["0", "f", "9"],
        ["2", "1", "b"],
        ["2", "a", "b"],
        ["5", "a", "9"],
    ],
    "13": [["0", "a"], ["0", "f"], ["2", "1"], ["2", "a"], ["5", "a"]],
    "14": [["0", "8"], ["0", "9"], ["2", "b"], ["2", "b"], ["5", "9"]],
    "1": [["0"], ["0"], ["2"], ["2"], ["5"]],
    "234": [
        ["7", "1", "b"],
        ["a", "a", "8"],
        ["a", "a", "9"],
        ["a", "a", "b"],
        ["a", "f", "9"],
    ],
    "23": [["7", "1"], ["a", "a"], ["a", "a"], ["a", "a"], ["a", "f"]],
    "24": [["7", "b"], ["a", "8"], ["a", "9"], ["a", "9"], ["a", "b"]],
    "2": [["7"], ["a"], ["a"], ["a"], ["a"]],
    "34": [["1", "b"], ["a", "8"], ["a", "9"], ["a", "b"], ["f", "9"]],
    "3": [["1"], ["a"], ["a"], ["a"], ["f"]],
    "4": [["8"], ["9"], ["9"], ["b"], ["b"]],
}


print(solution(relation))